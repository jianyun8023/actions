version: '3.9'

services:
  sslvpn:
    image: ghcr.io/jianyun8023/sslvpnclient:latest
    # 本地构建时取消注释
    # build:
    #   context: .
    #   dockerfile: Dockerfile
    container_name: sslvpnclient
    cap_add:
      - NET_ADMIN              # 网络管理权限
    devices:
      - /dev/net/tun           # TUN 设备
    ports:
      - "1080:1080"            # SOCKS5 代理
      - "8080:8080"            # Web 终端（浏览器里执行命令）
    volumes:
      - ./conf:/opt/sslvpnclient/conf   # 配置持久化
    restart: unless-stopped
    stdin_open: true
    tty: true
